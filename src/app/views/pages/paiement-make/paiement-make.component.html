<c-card class="mb-4">
    <c-card-header>
        Calculer les paiements du {{selectmonth}}Ã©me mois
    </c-card-header>
    <c-card-body>
        <div class="row justify-content-md-start">
            <div class="col-md-6">
                <div class="btn-group">
                    <button type="button"  (click)="calculSalaire()" class="btn btn-success btn-sm">
                      <svg cIcon class="me-1" size="md" name="cilTask"></svg>Calculer Salaire
                    </button>
                    <button type="button" (click)="generateBulletin()" class="btn btn-warning btn-sm">
                      <svg cIcon class="me-1" size="md" name="cilFile"></svg> Generer Bulletin paie
                    </button>
                    <button type="button" (click)="sendMail()" class="btn btn-dark btn-sm">
                      <svg cIcon class="me-1" size="md" name="cilShare"></svg>Envoyer bulletin
                    </button>
                </div>
            </div>
        </div>
        <div class="row mt-3 table-responsive">
                <table cTable>
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">Employes </th>
                      <th scope="col">Matricule </th>
                      <th scope="col">Total heures</th>
                      <th scope="col">Salaire Brut</th>
                      <th scope="col">Total prime</th>
                      <th scope="col">Salaire Net</th>
                      <th scope="col">Precompte Pro</th>
                      <th scope="col">Cotisation Cnss</th>
                      <th scope="col">Retenu Retraite</th>
                      <th scope="col">Retenu Chomage</th>
                      <th scope="col">Cnss Retenue</th>
                      <th scope="col">Suppl Transport</th>
                      <th scope="col">Prime HS</th>
                      <th scope="col">Prime Prestation</th>
                      <th scope="col">Prime Equipe</th>
                      <th scope="col">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let row of rows">
                      <th scope="row">{{row.id}}</th>
                      <td>{{row.user_name}}</td>
                      <td>{{row.user_matricule}}</td>
                      <td>{{row.total_jour}}</td>
                      <td>{{row.total_brut}}</td>
                      <td>{{row.total_prime}}</td>
                      <td>{{row.total_net}}</td>
                      <td>{{row.precomptePro}}</td>
                      <td>{{row.cotisationCnss}}</td>
                      <td>{{row.retenu_retraite}}</td>
                      <td>{{row.retenu_chomage}}</td>
                      <td>{{row.cnss_retenue}}</td>
                      <td>{{row.suppl_transport}}</td>
                      <td>{{row.prime_HS}}</td>
                      <td>{{row.prime_prestation}}</td>
                      <td>{{row.prime_equipe}}</td>
                      <td>
                        <div class="btn-group">
                          <button class="btn btn-sm btn-outline-dark" (click)="detail(content,row)">Detail</button>
                        </div>
                      </td>
                    </tr>
            
                  </tbody>
                </table>
        </div>
    </c-card-body>
</c-card>
<ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title">Detail Fiche paie</h4>
      <button type="button" class="btn close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form cForm  [formGroup]="itemForm" ngNativeValidate>
        <div class="row">
          <div [cFormFloating]="false" class="col-md-4 mb-3">
         <label cLabel for="floatingInput">Total brut</label>
          <input [readonly]="true" cFormControl id="floatingInput" placeholder="date" type="text" formControlName="total_brut" />
          
        </div>
        <div [cFormFloating]="false" class="col-md-4 mb-3">
          <label cLabel for="floatingInput">total_impossable</label>
            <input [readonly]="true" cFormControl id="floatingInput" placeholder="total_impossable" type="text" formControlName="total_impossable" />
           
          </div>
          <div [cFormFloating]="false" class="col-md-4 mb-3">
            <label cLabel for="floatingInput">total_net</label>
            <input [readonly]="true" cFormControl id="floatingInput" placeholder="total_net" type="text" formControlName="total_net" />
            
          </div>
          <div class="row">
            <div [cFormFloating]="false" class="col-md-4 mb-3">
              <label cLabel for="floatingInput">prime_HS</label>
               <input  cFormControl id="floatingInput" placeholder="prime_HS" type="text" formControlName="prime_HS" />
               
             </div>
             <div [cFormFloating]="false" class="col-md-4 mb-3">
              <label cLabel for="floatingInput">suppl_transport</label>
               <input  cFormControl id="floatingInput" placeholder="suppl_transport" type="text" formControlName="suppl_transport" />
               
             </div>
             <div [cFormFloating]="false" class="col-md-4 mb-3">
              <label cLabel for="floatingInput">prime_prestation</label>
               <input  cFormControl id="floatingInput" placeholder="prime_prestation" type="text" formControlName="prime_equipe" />
               
             </div>
          </div>
          <div class="row">
            <div [cFormFloating]="false" class="col-md-4 mb-3">
              <label cLabel for="floatingInput">precomptePro</label>
               <input  cFormControl id="floatingInput" placeholder="precomptePro" type="text" formControlName="precomptePro" />
               
             </div>
             <div [cFormFloating]="false" class="col-md-4 mb-3">
              <label cLabel for="floatingInput">cotisationCnss</label>
               <input  cFormControl id="floatingInput" placeholder="cotisationCnss" type="text" formControlName="cotisationCnss" />
               
             </div>
             <div [cFormFloating]="false" class="col-md-4 mb-3">
              <label cLabel for="floatingInput">cnss_retenue</label>
               <input  cFormControl id="floatingInput" placeholder="cnss_retenue" type="text" formControlName="cnss_retenue" />
               
             </div>
          </div>
        
        </div>
        
        </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
      <button class="btn btn-secondary mr-1  pull-right" type="button" (click)="onSubmit()">Enregister</button>
    </div>
  </ng-template>